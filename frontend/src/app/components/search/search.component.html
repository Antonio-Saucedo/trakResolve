<app-sidebar
  [isExpanded]="isExpanded"
  (toggleSidebar)="isExpanded = !isExpanded"
></app-sidebar>
<main class="search" [ngClass]="{ expanded: isExpanded }">
  <div class="container">
    <h2>Search</h2>
    <form>
      <label for="searchType">Search by: </label>
      <select #t name="searchType" id="searchType" [value]="searchType">
        <option value="_id">_id</option>
        <option value="reportedBy">reported by</option>
        <option value="summary">summary</option>
        <option value="link">link</option>
        <option value="description">description</option>
        <option value="resolved">resolved</option>
        <option value="tag">tag</option>
      </select>
      <label for="searchTerm">Search word: </label>
      <input
        #s
        type="text"
        id="searchTerm"
        placeholder="Search bug reports."
        (keyup.enter)="search(t.value, s.value)"
        [value]="searchTerm"
      />
      <button (click)="search(t.value, s.value)">Search</button>
    </form>
    <app-not-found *ngIf="!bugs"></app-not-found>
    <ul>
      <li *ngFor="let bug of bugs">
        <a routerLink="/search/_id/{{ bug._id }}">
          <div class="content {{ bug.resolved ? 'green' : 'red' }}">
            <div class="reportedBy">
              {{ bug.reportedBy }}
            </div>
            <div class="summary">
              {{ bug.summary }}
            </div>
            <div class="link">
              {{ bug.link }}
            </div>
            <div class="description">
              {{ bug.description }}
            </div>
            <img [src]="bug.imageUrl" alt="Bug report id {{ bug._id }}" />
            <div class="reproductionFindings">
              {{ bug.reproductionFindings }}
            </div>
            <div class="developmentFindings">
              {{ bug.developmentFindings }}
            </div>
            <div class="message">
              {{ bug.message }}
            </div>
          </div>
        </a>
      </li>
    </ul>
  </div>
</main>
